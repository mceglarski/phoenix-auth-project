<app-header></app-header>
<div class="content">
  <div class="border-bottom mb-7 mx-n3 px-2 mx-lg-n6 px-lg-6">
    <div class="row">
      <div class="col-xl-12">
        <div class="d-sm-flex justify-content-between">
          <h2 class="mb-4">Create a new lead</h2>
          <div class="d-flex mb-3">
            <button
              (click)="navigateToLeads()"
              class="btn btn-phoenix-primary me-2 px-6"
            >
              Cancel
            </button>
            <button
              mat-button
              [disabled]="createLeadForm.invalid"
              (click)="onCreateLead()"
              [ngClass]="{ 'btn btn-primary': createLeadForm.valid }"
            >
              Create lead
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xl-12">
      <h4 class="mb-3">Lead Information</h4>
      <form [formGroup]="createLeadForm" class="row g-3 mb-9">
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="name"
              class="form-control"
              id="floatingInputCompanyname"
              type="text"
              placeholder="Company name"
            />
            <label>Company name*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('name')!.touched &&
                createLeadForm.get('name')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{
                  createLeadForm.get("name")!.errors | displayValidationError
                }}
              </span>
            </mat-error>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="websiteLink"
              class="form-control"
              id="floatingInputWebsitelink"
              type="text"
              placeholder="Website link"
            />
            <label>Website link*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('websiteLink')!.touched &&
                createLeadForm.get('websiteLink')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{
                  createLeadForm.get("websiteLink")!.errors
                    | displayValidationError
                }}
              </span>
            </mat-error>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="linkedinLink"
              class="form-control"
              id="floatingInputLinkedin"
              type="text"
              placeholder="Linkedin link"
            />
            <label>Linkedin link*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('linkedinLink')!.touched &&
                createLeadForm.get('linkedinLink')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{
                  createLeadForm.get("linkedinLink")!.errors
                    | displayValidationError
                }}
              </span>
            </mat-error>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="location"
              class="form-control"
              id="floatingInputLocation"
              type="text"
              placeholder="Location"
            />
            <label>Location*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('location')!.touched &&
                createLeadForm.get('location')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{
                  createLeadForm.get("location")!.errors
                    | displayValidationError
                }}
              </span>
            </mat-error>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="industry"
              class="form-control"
              id="floatingInputIndustry"
              type="text"
              placeholder="Industry"
            />
            <label>Industry*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('industry')!.touched &&
                createLeadForm.get('industry')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{
                  createLeadForm.get("industry")!.errors
                    | displayValidationError
                }}
              </span>
            </mat-error>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="annualRevenue"
              class="form-control"
              id="floatingInputRevenue"
              type="number"
              placeholder="revenue"
            />
            <label>Annual revenue*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('annualRevenue')!.touched &&
                createLeadForm.get('annualRevenue')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{
                  createLeadForm.get("annualRevenue")!.errors
                    | displayValidationError
                }}
              </span>
            </mat-error>
          </div>
        </div>
        <h4 class="mt-6">Activities*</h4>
        <div class="col-12">
          <div [formGroup]="activityScopeFormGroup" class="form-floating">
            <div
              *ngFor="let activities of leadsActivities$ | async"
              class="form-check form-check-inline"
            >
              <input
                class="form-check-input"
                type="checkbox"
                (click)="onActivitySelect()"
                [id]="activities.id"
                [value]="activities.id"
                [formControlName]="activities.id"
              />
              <label class="form-check-label">{{ activities.name }}</label>
            </div>
            <mat-error *ngIf="createLeadForm.hasError('noActivitySelected')">
              <span class="fs--1 text-warning">
                {{ createLeadForm.errors | displayValidationError }}
              </span>
            </mat-error>
          </div>
        </div>
        <h4 class="mt-6">Company Size</h4>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="total"
              class="form-control"
              id="floatingInputTotalSize"
              type="number"
              placeholder="Total size"
              min="1"
            />
            <label>Total size*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('total')!.touched &&
                createLeadForm.get('total')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{
                  createLeadForm.get("total")!.errors | displayValidationError
                }}
              </span>
            </mat-error>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="dev"
              class="form-control"
              id="floatingInputDevSize"
              type="number"
              placeholder="Dev Size"
              min="1"
            />
            <label>Dev Size*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('dev')!.touched &&
                createLeadForm.get('dev')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{ createLeadForm.get("dev")!.errors | displayValidationError }}
              </span>
            </mat-error>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <input
              formControlName="fe"
              class="form-control"
              id="floatingInputFESize"
              type="number"
              placeholder="FE Size"
              min="1"
            />
            <label>FE Size*</label>
            <mat-error
              *ngIf="
                createLeadForm.get('fe')!.touched &&
                createLeadForm.get('fe')!.invalid
              "
            >
              <span class="fs--1 text-warning">
                {{ createLeadForm.get("fe")!.errors | displayValidationError }}
              </span>
            </mat-error>
          </div>
        </div>
        <h4 class="mt-6">Hiring Information</h4>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <div class="form-check form-switch">
              <input
                formControlName="active"
                class="form-check-input"
                id="flexSwitchCheckDefault"
                type="checkbox"
              />
              <label class="form-check-label">Is currently hiring?</label>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <div class="form-check form-switch">
              <input
                formControlName="junior"
                class="form-check-input"
                id="flexSwitchCheckDefault2"
                type="checkbox"
              />
              <label class="form-check-label">Is hiring junior?</label>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-4">
          <div class="form-floating">
            <div class="form-check form-switch">
              <input
                formControlName="talentProgram"
                class="form-check-input"
                id="flexSwitchCheckDefault3"
                type="checkbox"
              />
              <label class="form-check-label">Has Talent program?</label>
            </div>
          </div>
        </div>
        <h4 class="mt-6">Status</h4>
        <div class="col-12">
          <select class="form-select form-select-lg mb-3">
            <option selected="">Preliminaries</option>
            <option value="1">Investigation</option>
            <option value="2">Demonstrating Capabilities</option>
            <option value="3">Obtaining Commitment</option>
          </select>
        </div>
        <h4 class="mt-6">Notes</h4>
        <div class="col-12">
          <div class="form-floating">
            <textarea
              formControlName="notes"
              class="form-control"
              id="floatingProjectOverview"
              placeholder="Leave a comment here"
              style="height: 128px"
            ></textarea>
            <label>Lead description</label>
          </div>
        </div>
        <div class="col-12 d-flex justify-content-end mt-6">
          <button
            mat-button
            (click)="onCreateLead()"
            [disabled]="createLeadForm.invalid"
            [ngClass]="{ 'btn btn-primary': createLeadForm.valid }"
          >
            Create lead
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<app-footer></app-footer>
